<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="generator" content="Tantalum 0.1"/>
<title>Define Webpage</title>
<link rel="stylesheet" type="text/css" href="/Tantalum/themes/default/style.css" media="all" /> 
<style type="text/css">
@charset "UTF-8";
@import url(/Tantalum/yaml/core/base.css);
@import url(/Tantalum/yaml/navigation/nav_shinybuttons.css);
@import url(/Tantalum/yaml/screen/content_default.css);
@import url(/Tantalum/yaml/screen/forms.css);
@import url(/Tantalum/yaml/print/print_003_draft.css);
</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="/Tantalum/js/json2min.js"></script>

<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

<script type="text/javascript">

var json;

$(document).ready(function() {
	jQuery.getJSON('/Tantalum/ws/DefineWebpage/095e1122-9f58-11df-936f-e37ecc873ea2',
		function(jsonCallback) {
			json = jsonCallback;
			rows_DefineWebpage = json.DefineWebpage;
			paint_Models();
		}
	);

	var cache = {};
	$("input#ModelBasisTableName").autocomplete({
		source: function(request, response) {
			if ( request.term in cache ) {
				response( cache[ request.term ] );
				return;
			}
			
			$.ajax({
				url: "/Tantalum/ws/ManageTables/?selector=ManageTablesName",
				dataType: "json",
				data: request,
				success: function( data ) {
					cache[ request.term ] = data;
					var display = [];
					for(var i=0; i < data.length; i++) {
						display[i] = {"label": data[i].FIELDS.ManageTablesName, "value": data[i]};
					}
					response( display );
				}
			});
		},
		focus: function(event, ui) {return false;},
		select: function(event, ui) {
			var row = rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION];
			row.FIELDS.ModelBasisTableID = ui.item.value.FIELDS.ManageTablesTableID;
			row.FIELDS.ModelBasisTableName = ui.item.value.FIELDS.ManageTablesName;
			paint_Models();
			return false;
		}
	});
});

function initializeList() {
	var list = new Object;
	list.DATA = [];
	list.POSITION = -1;
	list.FULLY_LOADED = true;
	return list;
}

var rows_DefineWebpage = null;

</script>
</head>

<body>

<div id="Models" class="view FormRegion">
	<form method="post" action="" class="yform">
<fieldset>
<legend>Model</legend>

		<div class="type-text">
			<label for="ModelName">Name</label>
			<input type="text" name="ModelName" id="ModelName" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelName = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">

			<label for="ModelLabel">Label</label>
			<input type="text" name="ModelLabel" id="ModelLabel" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelLabel = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
		<div class="type-text">
			<label for="ModelBasisTableID">BasisTableID</label>
			<span id="ModelBasisTableID">XXX</span>
		</div>
		<div class="type-text">
			<label for="ModelBasisTableName">Basis Table</label>
			<input type="text" name="ModelBasisTableName" id="ModelBasisTableName" size="20" />
		</div>
		<div class="type-text">
			<label for="ModelParentID">Parent</label>
			<input type="text" name="ModelParentID" id="ModelParentID" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelParentID = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">
			<label for="ModelReferenceID">Reference</label>
			<input type="text" name="ModelReferenceID" id="ModelReferenceID" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelReferenceID = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">

			<label for="ModelResultsPerPage">Results per page</label>
			<input type="text" name="ModelResultsPerPage" id="ModelResultsPerPage" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelResultsPerPage = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">
			<label for="ModelAllowAdd">Add</label>
			<input type="text" name="ModelAllowAdd" id="ModelAllowAdd" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelAllowAdd = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">

			<label for="ModelAllowEdit">Edit</label>
			<input type="text" name="ModelAllowEdit" id="ModelAllowEdit" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelAllowEdit = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
				<div class="type-text">
			<label for="ModelAllowDelete">Delete</label>
			<input type="text" name="ModelAllowDelete" id="ModelAllowDelete" size="20" 
				onchange="rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].FIELDS.ModelAllowDelete = $(this).val(); rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION].DIRTY = true;" />
		</div>
	</fieldset>

</form>

<script type="text/javascript">
	function paint_Models() {
		var row = rows_DefineWebpage.DATA[rows_DefineWebpage.POSITION];
		
		$("#Models").find('#ModelName').val(row.FIELDS.ModelName);
		$("#Models").find('#ModelLabel').val(row.FIELDS.ModelLabel);
		$("#Models").find('#ModelBasisTableID').html(row.FIELDS.ModelBasisTableID);
		$("#Models").find('#ModelBasisTableName').val(row.FIELDS.ModelBasisTableName);
		$("#Models").find('#ModelParentID').val(row.FIELDS.ModelParentID);
		$("#Models").find('#ModelReferenceID').val(row.FIELDS.ModelReferenceID);
		$("#Models").find('#ModelResultsPerPage').val(row.FIELDS.ModelResultsPerPage);
		$("#Models").find('#ModelAllowAdd').val(row.FIELDS.ModelAllowAdd);
		$("#Models").find('#ModelAllowEdit').val(row.FIELDS.ModelAllowEdit);
		$("#Models").find('#ModelAllowDelete').val(row.FIELDS.ModelAllowDelete);
	}
</script>

	</div>

</body>
</html>
